{% extends "layout.html" %}
{% block content %}
<div class="content-section">
  <div class="media">
    <div class="media-body">
      <h2 class="account-heading border-bottom mb-4">{{ dorm.sub_location }}</h2>
      <h4>Washers</h4>
      {% for w in range(washers|length) %}
      <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#{{w}}">Washer {{ w+1 }}</button>
      <div class="modal fade" id="{{w}}" tabindex="-1" role="dialog" aria-labelledby="popupWasherModal" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="popupWasherModal">Washer {{ w+1 }}</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">Status: {{state[washers[w].status]}}</div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
              {% if not washers[w].load %}
              <form action="{{ url_for('create_load', drosher_id=washers[w].id) }}">
               <button type="submit" class="btn btn-primary">Create Load</button>
              </form>
              {% endif %}
            </div>
          </div>
        </div>
      </div>
      {% endfor %}
      </br>
      </br>
      <h4>Dryers</h4>
      {% for d in range(dryers|length) %}
      <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#{{d}}">Dryer {{ d+1 }}</button>
      <div class="modal fade" id="{{d}}" tabindex="-1" role="dialog" aria-labelledby="popupDryerModal" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="popupDryerModal">Dryer {{ d+1 }}</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">Status: {{state[dryers[d].status]}}</div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
              {% if not dryers[d].load %}
              <form action="{{ url_for('create_load', drosher_id=dryers[d].id) }}">
               <button type="submit" class="btn btn-primary">Create Load</button>
              </form>
              {% endif %}
            </div>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</div>
{% endblock content %}